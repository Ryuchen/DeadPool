<h1 style="align-content: center">Welcome to DeadPool</h1>
<p style="align-content: center">
  <img src="https://img.shields.io/badge/version-v0.2-red.svg?cacheSeconds=2592000"  alt="version"/>
  <img src="https://img.shields.io/badge/language-python3-blue.svg?cacheSeconds=2592000"  alt="language"/>
  <img src="https://img.shields.io/badge/platform-linux-blue.svg?cacheSeconds=2592000"  alt="platform"/>
  <a href="http://www.gnu.org/licenses/gpl-3.0.html">
    <img alt="License: GPL" src="https://img.shields.io/badge/License-GPL-yellow.svg"/>
  </a>
</p>

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªä½¿ç”¨celeryä½œä¸ºä¸»ä½“æ¡†æ¶çš„çˆ¬è™«åº”ç”¨ï¼Œçµæ„Ÿæºè‡ªäºæ—¥å¸¸æ ¡å›­é¡¹ç›®ä¸­ã€‚

### ğŸ  [ä¸ªäººå°æ ˆ](https://ryuchen.github.io/)

  > å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®ä¸é”™ï¼Œæƒ³è¦æ·±å…¥äº†è§£ï¼Œå¯ä»¥å…³æ³¨ä¸Šé¢çš„ä¸ªäººå°æ ˆï¼Œæœªæ¥æ›´æ–°çš„è¯´æ˜ä¼šåˆŠç™»åœ¨è¿™é‡Œï¼Œå¹¶ä¸”ä¼šä¸å®šæ—¶åˆ†äº«éƒ¨åˆ†å†…å®¹å’Œå¿ƒå¾—

### ğŸ“ é¡¹ç›®è¯´æ˜:

å› ä¸ºä¹‹å‰å·¥ä½œæœŸé—´æ·±å…¥ä½¿ç”¨è¿‡ celery ä½œä¸º django web çš„åå°å¼‚æ­¥ä»»åŠ¡è°ƒåº¦ï¼Œä½†æ˜¯æ·±æ„Ÿ celery çš„å¼ºå¤§ï¼Œå¹¶ä¸å•å•åªæ˜¯å±€é™åœ¨ django çš„é™„å¸¦ä½¿ç”¨ã€‚ä¹‹åæƒ³æ·±å…¥ä½¿ç”¨ä¸€ä¸‹è¿™ä¸ªæ¡†æ¶ä½œä¸ºä¸»æ¡†æ¶æ„å»ºä¸€ä¸ªé¡¹ç›®ï¼Œä½†æ˜¯åç»­åœ¨ç½‘ä¸Šæ²¡æœ‰æœç´¢åˆ°å…³äº celery çš„å•ç‹¬é¡¹ç›®ä½œä¸ºå‚è€ƒ( å¯èƒ½æ˜¯æˆ‘æœçš„å§¿åŠ¿ä¸å¯¹ï¼Œæ¯•ç«Ÿèº«é«˜ä¸å¤Ÿï¼Œè§†çº¿å¤ªä½ =.= )ã€‚æ—¢ç„¶æ²¡èƒ½æ‰¾åˆ°ä¸€ä¸ªå¾ˆå¥½çš„ä»‹ç»å’Œä½¿ç”¨ celery çš„å¼€æº demo ï¼Œé‚£å°±è‡ªå·±æ¥å§ï¼Œæ¯•ç«Ÿèº«ä¸ºç¨‹åºå‘˜ï¼Œæœ€å¤§çš„æŠ€èƒ½å°±æ˜¯åŠ¨æ‰‹é€ é‡å¤çš„è½®å­ï¼Œå¹¶ä¸”æ²‰è¿·å…¶ä¸­ä¸å¯è‡ªæ‹”ã€‚æƒ³æ³•æ˜¯æœ‰äº†ï¼Œä½†æ˜¯åŸºäºä»€ä¹ˆå»æ„å»ºè¿™ä¸ªé¡¹ç›®ï¼Ÿ( >.< ? )ï¼Œç ”ç©¶ç”Ÿé˜¶æ®µåœ¨æçŸ¥è¯†å›¾è°±ï¼Œé‚£ä¹ˆçŸ¥è¯†çš„æ¥æºæ˜¯æœ€é‡è¦çš„ï¼Œç´¢æ€§å°±ä½¿ç”¨è¿™ä¸ªæ„å»ºä¸ªçˆ¬è™«é¡¹ç›®å§ã€‚é‰´äºä¸Šè¿°åŸå› ï¼Œæˆ‘æ„å»ºäº†è¿™ä¸ªé¡¹ç›®ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©è‡ªå·±æ·±å…¥ç†è§£å’Œç†Ÿç»ƒä½¿ç”¨ celery çš„å¼ºå¤§åŠŸèƒ½ã€‚

### ğŸ”¥ è®¾è®¡ç‰¹æ€§:

- æ„å»ºå®Œå–„çš„ proxy pool å’Œ cookie pool åŸºç±»ï¼Œå®ç°ç®€å•çš„å®ä¾‹ä½œä¸ºå‚è€ƒï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚åˆ›å»ºæ–°çš„å®ä¾‹
- æ‹¥æœ‰å¼‚æ­¥å’Œå‘¨æœŸä¸¤ç§ä»»åŠ¡ç§ç±»çš„åŸºç¡€ç±»åˆ«ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚å®ç°ç›¸åº”åŠŸèƒ½
- é›†æˆäº†å¸¸è§çš„ä¸€äº›åçˆ¬å–æœºåˆ¶çš„è¯†åˆ«å·¥å…·ï¼Œå…·ä½“å†…å®¹å‚è§ [plugins](https://github.com/ryuchen/DeadPool/master/blob/common/plugins)
- å…¼é¡¾äº†celeryçš„é›†ç¾¤åŒ–è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿåœ¨åˆ†å¸ƒå¼çš„æƒ…å†µä¸‹ï¼Œè‡ªé€‚åº”åˆ†é…èŠ‚ç‚¹ä»»åŠ¡ ï¼ˆTODOï¼‰
- èƒ½å¤Ÿæ¨¡æ‹ŸçœŸå®ç”¨æˆ·åœ¨ç½‘é¡µä¸Šçš„æµè§ˆåŠ¨ä½œï¼Œæå¤§çš„é™ä½äº†è¢«åçˆ¬æœºåˆ¶è¯†åˆ«çš„æ¦‚ç‡ ï¼ˆTODOï¼‰
- ä½¿ç”¨ celery çš„ canvas åŠŸèƒ½å…è®¸çµæ´»æ€§çš„é…ç½®æ•°æ®æµç»“æ„ ï¼ˆTODOï¼‰

### ğŸ‘Œ ä»£ç è¯´æ˜ï¼š

```
/
â”œâ”€â”€ apps/   # ä»»åŠ¡ç›®å½•
    â”œâ”€â”€ asynch/   # å¼‚æ­¥ä»»åŠ¡ç›®å½•ï¼ˆä¹Ÿæ˜¯è¯¥æ¡†æ¶è¿è¡Œå„ç§çˆ¬è™«è„šæœ¬çš„ä¸»ç›®å½•ï¼‰        
        â”œâ”€â”€ tasks/
            â”œâ”€â”€ task_tmall/    # example for Tmall å•†å“çˆ¬å–ç›®å½•ï¼ˆå…¶ä»–çˆ¬å–ä»»åŠ¡è·Ÿè¯¥ç›®å½•æ¡†æ¶ä¸€è‡´ï¼‰
                â”œâ”€â”€ __init__.py    
                â”œâ”€â”€ __main__.py    # è¯¥ä»»åŠ¡çš„ä¸»ç¨‹åºå…¥å£
                â”œâ”€â”€ crawler.py    # å•ä¸€çˆ¬å–ç¨‹åº
                â”œâ”€â”€ middleware.py    # çˆ¬å–åçš„é¡µé¢å¤„ç†ç¨‹åº
                â””â”€â”€ pipline.py    # å¤„ç†åçš„ä¿¡æ¯å­˜å‚¨ç¨‹åº
            â””â”€â”€ __init__.py
        â”œâ”€â”€ __init__.py
        â””â”€â”€ base.py    # å¼‚æ­¥ä»»åŠ¡çš„åŸºç±»ï¼Œç»§æ‰¿äº†è¯¥åŸºç±»æ‰èƒ½è¢«æ¡†æ¶æ­£ç¡®å¯¼å…¥
    â”‚â”€â”€ periodic/   # å®šæ—¶ä»»åŠ¡ç›®å½•ï¼ˆè¯¥æ¡†æ¶çš„é€šç”¨è„šæœ¬ç›®å½•ï¼‰
        â”œâ”€â”€ tasks/  
            â”œâ”€â”€ task_cookie.py   # å‘¨æœŸæ€§æ›´æ–°è¯·æ±‚çš„cookie
            â”œâ”€â”€ task_proxy.py   # å‘¨æœŸæ€§æ›´æ–°ä»£ç†æ± ä¸­çš„IPåœ°å€
            â””â”€â”€ __init__.py
        â”œâ”€â”€ __init__.py
        â””â”€â”€ base.py    # å®šæ—¶ä»»åŠ¡çš„åŸºç±»ï¼Œç»§æ‰¿äº†è¯¥åŸºç±»æ‰èƒ½è¢«æ¡†æ¶æ­£ç¡®å¯¼å…¥
â”œâ”€â”€ bin/
    â””â”€â”€ chromedriver.exe   # browser driver é©±åŠ¨ç¨‹åº
â”œâ”€â”€ common/   # é€šç”¨åº“
    â”œâ”€â”€ plugins/   # é€šç”¨è§£ææ’ä»¶åº“
        â”œâ”€â”€ human/   # æ¨¡æ‹ŸçœŸäººæ“ä½œçš„åº“
            â”œâ”€â”€ slider.py   # æ¨¡æ‹ŸçœŸäººæµè§ˆé¡µé¢æ“ä½œ
            â”œâ”€â”€ verification.py   # åçˆ¬éªŒè¯ç¨‹åºæ“ä½œ
            â””â”€â”€ __init__.py
        â”œâ”€â”€ storage/   # çˆ¬å–ç»“æœå­˜å‚¨çš„åº“
            â”œâ”€â”€ filestorage.py   # æ–‡ä»¶å½¢å¼æœ¬åœ°å­˜å‚¨
            â”œâ”€â”€ mongostorage.py   # mongodbå­˜å‚¨
            â””â”€â”€ __init__.py
        â””â”€â”€ __init__.py
    â”œâ”€â”€ settings.py   # é…ç½®
    â”œâ”€â”€ singleton.py   # å•ä¾‹æ¨¡å¼
    â”œâ”€â”€ sqlitedao.py   # sqlite3æ“ä½œå°è£…ï¼Œç”¨äºçˆ¬å–è¿‡ç¨‹ä¸­çš„è®°å½•
    â”œâ”€â”€ timetrans.py   # æ—¶é—´æ ¼å¼è½¬æ¢
    â”œâ”€â”€ exceptions.py   # å¼‚å¸¸ç±»å°è£…
    â””â”€â”€ __init__.py    
â”œâ”€â”€ config/   # é…ç½®ç›®å½•
    â””â”€â”€ jobs.d/   # ä»»åŠ¡é…ç½®ç›®å½•
        â”œâ”€â”€ async.d/
            â””â”€â”€ task_tmall.yaml
        â”œâ”€â”€ periodic.d/
            â”œâ”€â”€ task_cookie.yaml
            â””â”€â”€ task_proxy.yaml
        â”œâ”€â”€ config.yaml   # é€šç”¨é…ç½®
        â””â”€â”€ jobs.yaml   # ä»»åŠ¡åŠ è½½é…ç½®ï¼ˆå°†jobs.dä¸­çš„é…ç½®æ–‡ä»¶includeè¿›æ¥åå¼€å¯ä»»åŠ¡ï¼‰
â”œâ”€â”€ contrib/   # celery æ ¸å¿ƒåº“
    â”œâ”€â”€ elastic/   # elasticsearchï¼ˆç”¨äºæ‰§è¡Œä»»åŠ¡æ—¥å¿—è®°å½•ï¼‰
        â”œâ”€â”€ indices/   # elasticsearch index mapping 
            â”œâ”€â”€ rlogs.py   # è¿è¡Œæ—¥å¿—çš„ index mapping
            â””â”€â”€ __init__.py
        â”œâ”€â”€ base.py   # elasticsearch å®ä¾‹åˆ›å»ºç±»
        â””â”€â”€ __init__.py
    â”œâ”€â”€ mysql/   # mysqlï¼ˆç”¨æ¥æš‚å­˜ IP proxyï¼‰
        â”œâ”€â”€ tables/    # mysql table mapping 
            â”œâ”€â”€ proxy.py   # IP proxy table mapping
            â””â”€â”€ __init__.py
        â”œâ”€â”€ base.py
        â””â”€â”€ __init__.py
    â”œâ”€â”€ redis/   # redisï¼ˆcelery è¿è¡Œæ—¶çš„brokerå’Œbackendï¼‰
        â”œâ”€â”€ base.py   # redis å®ä¾‹åˆ›å»ºç±»
        â””â”€â”€ __init__.py
    â””â”€â”€ __init__.py
â”œâ”€â”€ deadpool/   # celery application ä¸»ç›®å½•
    â”œâ”€â”€ celery.py   # ç¨‹åºä¸»å…¥å£
    â””â”€â”€ __init__.py
â”œâ”€â”€ driver/   # broswer é©±åŠ¨å­˜æ”¾ç›®å½•
    â”œâ”€â”€ chromedriver_linux64.zip
    â”œâ”€â”€ chromedriver_mac64.zip
    â””â”€â”€ chromedriver_win32.zip
â”œâ”€â”€ logs   # è¿è¡Œæ—¥å¿—
â”œâ”€â”€ result   # filestorage æ’ä»¶çš„é»˜è®¤ç»“æœå­˜æ”¾ç›®å½•ï¼ˆå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹ï¼‰
â”œâ”€â”€ test   # å¼€å‘æ—¶å€™çš„æµ‹è¯•è„šæœ¬
â””â”€â”€ utils/   # å·¥å…·åº“
    â”œâ”€â”€ driver.py   # ä¾æ®å¹³å°åŠ è½½ browser é©±åŠ¨
    â”œâ”€â”€ loader.py   # yamlæ–‡ä»¶çš„ç¬¬ä¸‰æ–¹Loader
    â”œâ”€â”€ network.py   # ä¸»æœºç½‘ç»œä¿¡æ¯è„šæœ¬
    â””â”€â”€ __init__.py
```

### ğŸ“– ä½¿ç”¨è¯´æ˜:

#### å®‰è£…è¯´æ˜

```shell script

# ç›®å‰åªåœ¨ windows ç¯å¢ƒä¸‹ä½¿ç”¨è¿‡è¯¥é¡¹ç›®ï¼Œå…¶ä»–å¹³å°çš„å¾…æµ‹è¯•~~
# å®‰è£…ç¯å¢ƒä¾èµ–
pip install -r requirements.txt

```
- - -
#### è¿è¡Œè¯´æ˜

```shell script

# åœ¨ä¸€ä¸ª shell ä¸­æ‰§è¡Œè¯¥è„šæœ¬
# å¯åŠ¨é¡¹ç›®
celery -A deadpool flower worker -l info -P eventlet -E

# å¦ä¸€ä¸ª shell ä¸­æ‰§è¡Œè¯¥è„šæœ¬
celery -A deadpool shell

# åœ¨å‡ºç°çš„Pythonç¼–è¾‘çª—å£ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤è°ƒç”¨ä»»åŠ¡
Python 3.7.6 (tags/v3.7.6:43364a7ae0, Dec 19 2019, 00:42:30) [MSC v.1916 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from celery.execute import send_task
>>> send_task('task_tmall')

```
- - -
#### æŸ¥çœ‹çŠ¶æ€

```shell script

# åŒæ—¶å¯ä»¥åœ¨ æµè§ˆå™¨ä¸­æ£€æµ‹ä»»åŠ¡è¿è¡ŒçŠ¶æ€
https://localhost:5555

```

### ğŸ‘¤ ä½œè€…ä»‹ç»:

Ryuchen ( é™ˆ æµ© )

* Github: [https://github.com/Ryuchen](https://github.com/Ryuchen)
* Email: [chenhaom1993@hotmail.com](chenhaom1993@hotmail.com)
* QQ: 455480366
* å¾®ä¿¡: Chen_laws

Nameplace ( è™šä½ä»¥å¾… )

### ğŸ¤ è´¡çŒ®æºç :

Contributions, issues and feature requests are welcome!<br />Feel free to check [issues page](https://github.com/Ryuchen/DeadPool/tree/master/common/plugins).

### â­ æ¸´æœ›æ”¯æŒ: 

å¦‚æœä½ æƒ³ç»§ç»­è§‚å¯Ÿ Deadpool æ¥ä¸‹æ¥çš„èµ°å‘ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ è¿™æ˜¯å¯¹äºæˆ‘ä»¬æœ€å¤§çš„é¼“åŠ±ã€‚
æ­¤å¤–ï¼Œå¦‚æœä½ è§‰å¾— Deadpool å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ å¯ä»¥èµåŠ©æˆ‘ä»¬ä¸€æ¯å’–å•¡ï¼Œé¼“åŠ±æˆ‘ä»¬ç»§ç»­å¼€å‘ç»´æŠ¤ä¸‹å»ã€‚

| **å¾®ä¿¡**                         | **æ”¯ä»˜å®**                           |
| ------------------------------- | ----------------------------------- |
|<p align="center">![æ‰«ç èµåŠ©](https://raw.githubusercontent.com/Ryuchen/Panda-Sandbox/master/docs/sponsor/wechat.jpg)</p>|<p align="center">![æ‰«ç èµåŠ©](https://raw.githubusercontent.com/Ryuchen/Panda-Sandbox/master/docs/sponsor/alipay.jpg)</p>|

### ğŸ“ å¼€æºåè®®:

Copyright Â© 2019 [Ryuchen](https://github.com/Ryuchen).<br />
This project is [GPL](http://www.gnu.org/licenses/gpl-3.0.html) licensed.
è¯·è°¨éµå¼€æºåè®®ï¼Œè°¢è°¢ä½¿ç”¨ï¼

***
[![Release](https://img.shields.io/github/release/Ryuchen/DeadPool?color=blue)](https://github.com/Ryuchen/DeadPool/releases) [![Contributors](https://img.shields.io/github/contributors/Ryuchen/DeadPool?color=blue)](https://github.com/Ryuchen/DeadPool/graphs/contributors) [![Last commit](https://img.shields.io/github/last-commit/Ryuchen/DeadPool?color=blue)](https://github.com/Ryuchen/DeadPool/commits/master)

_This README was generated with â¤ï¸ by [readme-md-generator](https://github.com/kefranabg/readme-md-generator)_